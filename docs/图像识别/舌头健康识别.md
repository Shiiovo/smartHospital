---
sidebar_position: 2
---

# 舌象诊断接口

## 接口概述

该接口用于分析和诊断舌头图像，能够识别多种舌象特征。上传舌头图像后，系统会返回舌象的诊断结果及各个类别的概率分布。

## 基本信息

- **接口URL**: `http://114.132.235.143:8002/predict/tongue`
- **请求方式**: POST
- **Content-Type**: multipart/form-data
- **数据格式**: JSON
- **图像预处理**: 自动调整为224×224像素并进行归一化

## 请求参数

| 参数名 | 类型 | 是否必须 | 描述                                                        |
| ------ | ---- | -------- | ----------------------------------------------------------- |
| image  | File | 是       | 舌头图像文件（支持png、jpg、jpeg、gif格式，大小不超过16MB） |

## 响应参数

### 成功响应 (200 OK)

| 参数名            | 类型   | 描述                       |
| ----------------- | ------ | -------------------------- |
| prediction        | String | 预测的舌象类别             |
| confidence        | Float  | 预测的置信度，取值范围0-1  |
| all_probabilities | Object | 所有可能舌象类别的概率分布 |

### 可能的诊断结果

- 淡白舌
- 紫暗舌
- 舌象正常
- 裂纹舌
- 黄腻舌
- 齿痕舌


## 响应示例

```
{
  "prediction": "舌象正常",
  "confidence": 0.95,
  "all_probabilities": {
    "淡白舌": 0.01,
    "紫暗舌": 0.01,
    "舌象正常": 0.95,
    "裂纹舌": 0.01,
    "黄腻舌": 0.01,
    "齿痕舌": 0.01
  }
}
```

## 错误响应

| 状态码 | 错误信息                       | 描述                          |
| ------ | ------------------------------ | ----------------------------- |
| 400    | 没有找到图片文件               | 请求中未包含图像文件          |
| 400    | 没有选择图片                   | 提交的图像文件名为空          |
| 400    | 不支持的文件类型               | 仅支持png、jpg、jpeg、gif格式 |
| 413    | 文件太大，请上传小于16MB的图片 | 图像文件超过大小限制          |
| 500    | 预测过程中出错: [错误详情]     | 服务器处理图像时发生错误      |
